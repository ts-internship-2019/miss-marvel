@model iWasHere.Domain.Models.LandmarkReview

@{
    ViewData["Title"] = "Review";
}


<body>
    <h4 align="center">work in progress</h4>
    <div>
        <h5>User reviews</h5>
        <br />
        <button @*style="float:right"*@ class="btn btn-dark" onclick="comment()" id="add"> Add Comment </button>
        <br />
        <br />
        <hr />
        <div><p>comments will go here</p></div>
        <hr />
        <br />
        <div id="toggle" style="display:none" *>
            <h5>Insert a comment below</h5>
            <hr />
            <div class="row">
                <div class="col-md-4">
                    <form>
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        <div class="form-group">
                            <label class="control-label">Please rate this landmark:</label>
                            <fieldset class="rating">
                                @*<legend>Please rate this landmark:</legend>*@
                                <input type="radio" id="star10" name="rating" value="10" onclick="getVal(this)" /><label for="star10" title="Rocks!">10 stars</label>
                                <input type="radio" id="star9" name="rating" value="9" onclick="getVal(this)" /><label for="star9" title="Pretty good">9 stars</label>
                                <input type="radio" id="star8" name="rating" value="8" onclick="getVal(this)" /><label for="star8" title="Good">8 stars</label>
                                <input type="radio" id="star7" name="rating" value="7" onclick="getVal(this)" /><label for="star7" title="Not great,not terrible">7 stars</label>
                                <input type="radio" id="star6" name="rating" value="6" onclick="getVal(this)" /><label for="star6" title="Better">6 star</label>
                                <input type="radio" id="star5" name="rating" value="5" onclick="getVal(this)" /><label for="star5" title="We passed!">5 stars</label>
                                <input type="radio" id="star4" name="rating" value="4" onclick="getVal(this)" /><label for="star4" title="Slightly better">4 stars</label>
                                <input type="radio" id="star3" name="rating" value="3" onclick="getVal(this)" /><label for="star3" title="Meh">3 stars</label>
                                <input type="radio" id="star2" name="rating" value="2" onclick="getVal(this)" /><label for="star2" title="Kinda bad">2 stars</label>
                                <input type="radio" id="star1" name="rating" value="1" onclick="getVal(this)" /><label for="star1" title="Sucks big time">1 star</label>
                            </fieldset>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Username</label>
                            <input id="Username" class="form-control" value="anonymous" />
                            <span class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Review title</label>
                            <input id="Title" class="form-control" />
                            <span class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Comment</label>
                            <input id="Comment" class="form-control" />
                            <span class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Landmark</label>
                            <input id="Landmark" class="form-control" />
                            <span class="text-danger"></span>
                        </div>
                        <div @*class="form-group"*@>
                            <label class="control-label">
                                Comment with the account you are logged in&nbsp;
                                <input type="checkbox" id="myCheck" onclick="checkuser()">
                            </label>
                        </div>
                    </form>
                </div>
            </div>
            <div>
                <button type="submit" class="btn btn-dark" onclick="insert()"> Save Comment </button>
                <button type="submit" class="btn btn-danger" onclick="cancel()">Cancel</button>
            </div>
        </div>
    </div>


    @*@section Scripts {
            @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
        }*@
    <script>

    //function redirect() {
    //    window.location = '/Dictionary/IndexComments';
    //}

    function comment() {
        var x = document.getElementById("toggle");
        var y = document.getElementById("add");
                x.style.display = "block";
                y.style.display = "none";
        }

    function cancel() {
        var x = document.getElementById("toggle");
        var y = document.getElementById("add");
                x.style.display = "none";
                y.style.display = "block";
        }


    function getVal(btn) {

        storedVal = btn.value;
    }


    function checkuser() {
        var checkBox = document.getElementById("myCheck");
    if (checkBox.checked == true) {
        document.getElementById('Username').setAttribute('disabled', 'disabled');
         }
    else {
         document.getElementById('Username').removeAttribute('disabled');
         }

    }



    //var currentValue = 0;
    //function handleClick(myRadio) {

    //    currentValue = myRadio.value;
    //}
    function insert() {
        $.ajax({
                    type: 'PUT',
                    url: '@Url.Action("AddComment", "Dictionary")',
            data: {
                stored: storedVal,
                landmarkId: document.getElementById("Landmark").value,
                author: document.getElementById("Username").value,
                cTitle: document.getElementById("Title").value,
                comment: document.getElementById("Comment").value,
                user: document.getElementById("myCheck").checked
                     },
        success: function (response) {
            alert("Comment added");
                    },
        error: function (response) {
            alert("There was an error while trying to add your comment");
                    }
                })
        }

        var storedVal = 0;
    </script>
</body>



<style>
    input[type=checkbox] {
        transform: scale(1.3);
    }

    .rating {
        float: left;
    }

        /* :not(:checked) is a filter, so that browsers that don’t support :checked don’t
    follow these rules. Every browser that supports :checked also supports :not(), so
    it doesn’t make the test unnecessarily selective */
        .rating:not(:checked) > input {
            position: absolute;
            top: -9999px;
            clip: rect(0,0,0,0);
        }

        .rating:not(:checked) > label {
            float: right;
            width: 1em;
            padding: 0 .1em;
            overflow: hidden;
            white-space: nowrap;
            cursor: pointer;
            font-size: 200%;
            line-height: 1.2;
            color: #ddd;
            text-shadow: 1px 1px #bbb, 2px 2px #666, .1em .1em .2em rgba(0,0,0,.5);
        }

            .rating:not(:checked) > label:before {
                content: '★ ';
            }

        .rating > input:checked ~ label {
            color: #f70;
            text-shadow: 1px 1px #c60, 2px 2px #940, .1em .1em .2em rgba(0,0,0,.5);
        }

        .rating:not(:checked) > label:hover,
        .rating:not(:checked) > label:hover ~ label {
            color: gold;
            text-shadow: 1px 1px goldenrod, 2px 2px #B57340, .1em .1em .2em rgba(0,0,0,.5);
        }

        .rating > input:checked + label:hover,
        .rating > input:checked + label:hover ~ label,
        .rating > input:checked ~ label:hover,
        .rating > input:checked ~ label:hover ~ label,
        .rating > label:hover ~ input:checked ~ label {
            color: #ea0;
            text-shadow: 1px 1px goldenrod, 2px 2px #B57340, .1em .1em .2em rgba(0,0,0,.5);
        }

        .rating > label:active {
            position: relative;
            top: 2px;
            left: 2px;
        }
</style>


